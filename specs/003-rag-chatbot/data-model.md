# Data Model

This document describes the data model for the RAG chatbot.

## Entities

### Book Content

-   **Description**: The source material for the RAG chatbot, in Markdown format.
-   **Attributes**:
    -   `file_path`: The path to the Markdown file.
    -   `content`: The full content of the Markdown file.
    -   `metadata`: Metadata about the book, such as title, author, etc.

### Chunk

-   **Description**: A semantically coherent piece of the book content, with a size of 500-800 tokens.
-   **Attributes**:
    -   `chunk_id`: A unique identifier for the chunk.
    -   `content`: The text of the chunk.
    -   `metadata`: Metadata about the chunk, such as chapter, section, and source URL.
    -   `embedding`: The vector embedding of the chunk.

### Embedding

-   **Description**: A vector representation of a chunk, generated by an OpenAI model.
-   **Attributes**:
    -   `vector`: The vector of floating-point numbers.
    -   `model`: The name of the OpenAI model used to generate the embedding.

### Query

-   **Description**: A question asked by the user.
-   **Attributes**:
    -   `query_text`: The text of the question.
    -   `mode`: The query mode, either "full-book" or "selected-text".
    -   `selected_text`: The selected text, if the mode is "selected-text".

### Answer

-   **Description**: A response generated by the chatbot.
-   **Attributes**:
    -   `answer_text`: The text of the answer.
    -   `citations`: A list of citations to the relevant book sections.
